<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<title>FEEDBACK LIST</title>

<link rel="stylesheet" type="text/css"
	href="https://cdn.datatables.net/v/bs4/dt-1.10.25/datatables.min.css" />
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
	integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
	crossorigin="anonymous" />

<style>
#button {
	background-color: #4caf50;
	border-radius: 5px;
	margin-left: 650px;
	margin-bottom: 5px;
	color: white;
}
</style>

<script
	src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js">
	
</script>
</head>

<body>

	<div style="padding: 10px;">

		<div class="card" id="makepdf">

			<h3>FEEDBACK LIST</h3>

			<hr />

			<br />
			<br />
			<table class="table table-bordered table-striped" id="Table">

				<thead>
					<tr>
						
						<th>candidateId</th>
						<th>candidateName</th>
						<th>Overall Rating</th>
						<th>Feedback</th>
						<th>InterviewerFbStatus</th>

						<th>HrFbStatus</th>

						<th>DomainName</th>
							<th>Sub Category Ratings</th>
							
						<th>Actions</th>


					</tr>
				</thead>
				<tbody>
					<tr th:each="Feedback : ${feedback}">
						<!-- <td th:text="${Feedback.feedbackId}" /> -->
						<td><span th:each="oneDoc:${Feedback.candidate}"> <span
								th:text="${oneDoc.getCandidateId()}"> <!-- 					    	<span th:text=${one.getMobileNumber()}></span> -->

							</span>
						</span></td>
						<td><span th:each="oneDoc:${Feedback.candidate}"> <span
								th:text="${oneDoc.getCandidateName()}"> <!-- 					    	<span th:text=${one.getMobileNumber()}></span> -->

							</span>
						</span></td>
						<td th:text="${Feedback.rating}" />
						<td th:text="${Feedback.feed_back}" />
						<td th:text="${Feedback.interviewerFbStatus}" />
						<td th:text="${Feedback.hrFbStatus}" />



						<!-- 						<td> -->
						<!-- 					    <span th:each="oneDoc:${Feedback.Schedule}"> -->
						<!-- 					    	<span th:text=${oneDoc.getInterviewId()}></span> -->

						<!-- 					    	</span> -->
						<!-- 					    </td> -->

						<!-- <td>
					    <span th:each="oneDoc:${Feedback.domain}">
					    	<span th:each="one:${oneDoc.getCandidate()}">
					    	
					    	<span th:text=${oneDoc.getDomainName()}></span>
					    	
					    	</span>
					    	</span>
					    	
					    </td> -->

						<td><span th:each="oneDoc:${Feedback.candidate}"> <span
								th:text="${oneDoc.domain.getDomainName()}"> <!-- 					    	<span th:text=${one.getMobileNumber()}></span> -->

							</span>
						</span></td>
						<td th:text="${Feedback.subDomRatings}" />

						<td><a
							th:href="@{/deleteFeedback(feedbackId=${Feedback.feedbackId})}"
							class="btn btn-danger ml-2">Delete</a></td>

					</tr>
				</tbody>

			</table>
		</div>

		<button id="button">Generate PDF</button>

		<br>
		<br>
		<a th:href="@{/home}" class="btn btn-danger ml-2">Home</a>
	</div>
	<script>
		var button = document.getElementById("button");
		var makepdf = document.getElementById("makepdf");

		button.addEventListener("click", function() {
			var mywindow = window.open("", "PRINT", "height=400,width=600");

			mywindow.document.write(makepdf.innerHTML);

			mywindow.document.close();
			mywindow.focus();

			mywindow.print();
			mywindow.close();

			return true;
		});
	</script>
</body>

</html>